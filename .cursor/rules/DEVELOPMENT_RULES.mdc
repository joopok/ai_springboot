---
description: 
globs: 
alwaysApply: true
---
# Spring Boot PM7 Project Development Rules & Guidelines

## ğŸ¯ PROJECT OVERVIEW

**Project Name**: PM7 (Project Management System v7)
**Architecture**: Spring Boot 2.7.x with MyBatis, MariaDB, JWT Authentication
**Current Status**: Legacy modernization project with security-first approach

---

## ğŸš€ CORE DEVELOPMENT PRINCIPLES

### 1. **CHAIN-OF-THOUGHT DEVELOPMENT**
- Break down complex features into logical, sequential steps
- Document decision-making process in code comments
- Use incremental development with clear milestone markers
- Apply the "Thinking Step by Step" approach for complex business logic

### 2. **ROLE-BASED PROMPT ENGINEERING**
```
As an Expert Spring Boot Architect, you will:
- Design secure, scalable solutions
- Follow enterprise-grade patterns
- Implement defensive programming practices
- Optimize for maintainability and performance
```

### 3. **FEW-SHOT LEARNING PATTERNS**
Apply proven examples from the codebase:
- **Controller Pattern**: RESTful endpoints with ApiResponse wrapper
- **Service Pattern**: Interface-implementation with transaction management
- **Security Pattern**: JWT-based authentication with role validation
- **Error Handling**: Global exception handler with structured responses

---

## ğŸ—ï¸ ARCHITECTURAL STANDARDS

### **Domain-Driven Design (DDD) Application**
```
src/main/java/com/example/pm7/
â”œâ”€â”€ controller/          # Presentation Layer
â”œâ”€â”€ service/            # Application Layer  
â”œâ”€â”€ model/              # Domain Layer
â”œâ”€â”€ mapper/             # Infrastructure Layer (MyBatis)
â”œâ”€â”€ config/             # Cross-cutting Concerns
â”œâ”€â”€ dto/                # Data Transfer Objects
â””â”€â”€ exception/          # Exception Handling
```

### **Layered Architecture Rules**
1. **Controllers** â†’ Only handle HTTP concerns, delegate to services
2. **Services** â†’ Business logic, transaction boundaries
3. **Mappers** â†’ Data access layer, SQL mapping
4. **Models** â†’ Domain entities with proper validation
5. **DTOs** â†’ API contracts, input/output transformation

---

## ğŸ”’ SECURITY-FIRST DEVELOPMENT

### **Authentication & Authorization Framework**
```yaml
Security Stack:
- JWT Tokens: 24h expiration, 7-day refresh
- BCrypt: Password hashing with salt
- Role-based Access Control (RBAC)
- Session Management: Stateless with Redis caching
```

### **Security Implementation Checklist**
- [ ] Input validation on all endpoints
- [ ] SQL injection prevention (MyBatis parameterized queries)
- [ ] XSS protection via response encoding
- [ ] CSRF protection for state-changing operations
- [ ] Rate limiting on authentication endpoints
- [ ] Audit logging for sensitive operations

### **Example Security Pattern**
```java
@RestController
@RequestMapping("/api/secure")
@PreAuthorize("hasRole('USER')")
public class SecureController {
    
    @PostMapping("/action")
    @PreAuthorize("hasRole('ADMIN') or @securityService.isOwner(authentication.name, #id)")
    public ResponseEntity<ApiResponse<Void>> performAction(
            @Valid @RequestBody ActionRequest request,
            Authentication authentication) {
        // ë°©ì–´ì  í”„ë¡œê·¸ë˜ë°: ì…ë ¥ ê²€ì¦ ë° ê¶Œí•œ ì¬í™•ì¸
        securityService.validateAccess(authentication, request);
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰
        return ResponseEntity.ok(ApiResponse.success(null));
    }
}
```

---

## ğŸ“Š DATA MANAGEMENT PATTERNS

### **MyBatis Best Practices**
```xml
<!-- ì„±ëŠ¥ ìµœì í™”ëœ ì¿¼ë¦¬ ì˜ˆì œ -->
<select id="findUserWithRoles" resultMap="UserResultMap">
    SELECT u.*, r.role_name 
    FROM users u 
    LEFT JOIN user_roles ur ON u.user_id = ur.user_id
    LEFT JOIN roles r ON ur.role_id = r.role_id
    WHERE u.user_id = #{userId}
    AND u.is_active = 1
</select>

<!-- ë™ì  ì¿¼ë¦¬ with ì•ˆì „í•œ í•„í„°ë§ -->
<select id="searchUsers" resultType="User">
    SELECT * FROM users
    <where>
        <if test="name != null and name != ''">
            AND name LIKE CONCAT('%', #{name}, '%')
        </if>
        <if test="status != null">
            AND status = #{status}
        </if>
        AND is_deleted = 0
    </where>
    ORDER BY created_date DESC
    LIMIT #{offset}, #{limit}
</select>
```

### **Transaction Management Strategy**
```java
@Service
@Transactional(readOnly = true) // ê¸°ë³¸ì ìœ¼ë¡œ ì½ê¸° ì „ìš©
public class UserServiceImpl implements UserService {
    
    @Override
    @Transactional // ì“°ê¸° ì‘ì—… ì‹œì—ë§Œ íŠ¸ëœì­ì…˜ í™œì„±í™”
    @Retryable(value = {DataAccessException.class}, maxAttempts = 3)
    public void updateUser(User user) {
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë£° ê²€ì¦
        validateBusinessRules(user);
        
        // ê°ì‚¬ ë¡œê·¸ ìƒì„±
        auditService.logUserUpdate(user);
        
        // ì‹¤ì œ ì—…ë°ì´íŠ¸ ìˆ˜í–‰
        userMapper.update(user);
        
        // ìºì‹œ ë¬´íš¨í™”
        cacheManager.evict("users", user.getId());
    }
}
```

---

## ğŸ¨ API DESIGN EXCELLENCE

### **RESTful API Standards**
```
HTTP Methods Mapping:
GET    /api/users          # ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ
GET    /api/users/{id}     # íŠ¹ì • ì‚¬ìš©ì ì¡°íšŒ
POST   /api/users          # ìƒˆ ì‚¬ìš©ì ìƒì„±
PUT    /api/users/{id}     # ì‚¬ìš©ì ì „ì²´ ì—…ë°ì´íŠ¸
PATCH  /api/users/{id}     # ì‚¬ìš©ì ë¶€ë¶„ ì—…ë°ì´íŠ¸
DELETE /api/users/{id}     # ì‚¬ìš©ì ì‚­ì œ
```

### **Consistent Response Format**
```java
public class ApiResponse<T> {
    private boolean success;
    private T data;
    private String message;
    private LocalDateTime timestamp;
    private Map<String, Object> metadata; // í˜ì´ì§•, í•„í„°ë§ ì •ë³´
    
    // ì„±ê³µ ì‘ë‹µ íŒ©í† ë¦¬ ë©”ì„œë“œ
    public static <T> ApiResponse<T> success(T data, String message) {
        return new ApiResponse<>(true, data, message);
    }
    
    // í˜ì´ì§•ì„ í¬í•¨í•œ ì„±ê³µ ì‘ë‹µ
    public static <T> ApiResponse<List<T>> successWithPaging(
            List<T> data, int page, int size, long total) {
        ApiResponse<List<T>> response = new ApiResponse<>(true, data, null);
        response.addMetadata("page", page);
        response.addMetadata("size", size);
        response.addMetadata("total", total);
        response.addMetadata("totalPages", (int) Math.ceil((double) total / size));
        return response;
    }
}
```

### **Error Response Standardization**
```java
@RestControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(ValidationException.class)
    public ResponseEntity<ApiResponse<Map<String, String>>> handleValidation(
            ValidationException ex) {
        Map<String, String> errors = ex.getFieldErrors();
        return ResponseEntity.badRequest()
                .body(ApiResponse.error("ì…ë ¥ ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨", errors));
    }
    
    @ExceptionHandler(BusinessException.class)
    public ResponseEntity<ApiResponse<Void>> handleBusiness(BusinessException ex) {
        log.warn("ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ìœ„ë°˜: {}", ex.getMessage());
        return ResponseEntity.status(ex.getHttpStatus())
                .body(ApiResponse.error(ex.getMessage()));
    }
}
```

---

## ğŸ§ª TESTING EXCELLENCE

### **Test Pyramid Implementation**
```
Unit Tests (70%): Service layer, utility classes
Integration Tests (20%): Repository layer, external APIs  
E2E Tests (10%): Critical user journeys
```

### **Test-Driven Development Pattern**
```java
@ExtendWith(MockitoExtension.class)
class UserServiceTest {
    
    @Mock private UserMapper userMapper;
    @Mock private PasswordEncoder passwordEncoder;
    @InjectMocks private UserServiceImpl userService;
    
    @Test
    @DisplayName("ì‚¬ìš©ì ìƒì„± ì‹œ ë¹„ë°€ë²ˆí˜¸ê°€ ì•”í˜¸í™”ë˜ì–´ì•¼ í•œë‹¤")
    void should_EncryptPassword_When_CreatingUser() {
        // Given: í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„
        User user = User.builder()
                .username("testuser")
                .password("plainPassword")
                .build();
        
        when(passwordEncoder.encode("plainPassword"))
                .thenReturn("$2a$10$encrypted");
        
        // When: í…ŒìŠ¤íŠ¸ ì‹¤í–‰
        userService.register(user);
        
        // Then: ê²°ê³¼ ê²€ì¦
        verify(passwordEncoder).encode("plainPassword");
        verify(userMapper).insert(argThat(u -> 
                u.getPassword().equals("$2a$10$encrypted")));
    }
}
```

### **Integration Test Configuration**
```java
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@TestPropertySource(locations = "classpath:application-test.yml")
@Sql(executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD, 
     scripts = "classpath:test-data.sql")
@Sql(executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD, 
     scripts = "classpath:cleanup.sql")
class UserIntegrationTest {
    
    @Autowired private TestRestTemplate restTemplate;
    @Autowired private UserMapper userMapper;
    
    @Test
    void ì‚¬ìš©ì_ìƒì„±_í†µí•©_í…ŒìŠ¤íŠ¸() {
        // Given
        CreateUserRequest request = new CreateUserRequest("newuser", "password");
        
        // When
        ResponseEntity<ApiResponse> response = restTemplate.postForEntity(
                "/api/users", request, ApiResponse.class);
        
        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.CREATED);
        assertThat(userMapper.findByUsername("newuser")).isNotNull();
    }
}
```

---

## ğŸ“ˆ PERFORMANCE OPTIMIZATION

### **Caching Strategy**
```java
@Service
public class UserServiceImpl implements UserService {
    
    @Cacheable(value = "users", key = "#id", condition = "#id != null")
    public User findById(Long id) {
        return userMapper.findById(id);
    }
    
    @CacheEvict(value = "users", key = "#user.id")
    @CachePut(value = "users", key = "#result.id")
    public User update(User user) {
        userMapper.update(user);
        return userMapper.findById(user.getId());
    }
    
    @CacheEvict(value = "users", allEntries = true)
    public void clearUserCache() {
        // ì „ì²´ ì‚¬ìš©ì ìºì‹œ ë¬´íš¨í™”
    }
}
```

### **Database Optimization Guidelines**
```sql
-- ì¸ë±ìŠ¤ ìµœì í™” ì˜ˆì œ
CREATE INDEX idx_users_username_status ON users(username, status);
CREATE INDEX idx_notices_created_date ON notices(created_date DESC);
CREATE INDEX idx_events_status_date ON events(status, event_date);

-- ë³µí•© ì¿¼ë¦¬ ìµœì í™”
SELECT u.username, u.email, 
       COUNT(n.notice_id) as notice_count
FROM users u
LEFT JOIN notices n ON u.user_id = n.created_by
WHERE u.is_active = 1
GROUP BY u.user_id, u.username, u.email
HAVING notice_count > 0
ORDER BY notice_count DESC
LIMIT 10;
```

---

## ğŸ” MONITORING & OBSERVABILITY

### **Structured Logging Pattern**
```java
@Slf4j
@Component
public class BusinessService {
    
    public void processOrder(Order order) {
        try (MDCCloseable mdcCloseable = MDC.putCloseable("orderId", order.getId())) {
            log.info("ì£¼ë¬¸ ì²˜ë¦¬ ì‹œì‘ - ê¸ˆì•¡: {}, ìƒí’ˆìˆ˜: {}", 
                    order.getTotalAmount(), order.getItemCount());
            
            // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰
            
            log.info("ì£¼ë¬¸ ì²˜ë¦¬ ì™„ë£Œ - ì†Œìš”ì‹œê°„: {}ms", 
                    System.currentTimeMillis() - startTime);
        } catch (BusinessException e) {
            log.error("ì£¼ë¬¸ ì²˜ë¦¬ ì‹¤íŒ¨ - ì‚¬ìœ : {}", e.getMessage(), e);
            throw e;
        }
    }
}
```

### **Health Check Implementation**
```java
@Component
public class CustomHealthIndicator implements HealthIndicator {
    
    @Autowired private DataSource dataSource;
    @Autowired private RedisTemplate redisTemplate;
    
    @Override
    public Health health() {
        try {
            // ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
            try (Connection conn = dataSource.getConnection()) {
                if (!conn.isValid(5)) {
                    return Health.down().withDetail("database", "ì—°ê²° ë¶ˆê°€").build();
                }
            }
            
            // Redis ì—°ê²° í™•ì¸
            redisTemplate.opsForValue().get("health-check");
            
            return Health.up()
                    .withDetail("database", "ì •ìƒ")
                    .withDetail("redis", "ì •ìƒ")
                    .build();
                    
        } catch (Exception e) {
            return Health.down()
                    .withDetail("error", e.getMessage())
                    .build();
        }
    }
}
```

---

## ğŸ”§ DEVELOPMENT WORKFLOW

### **Git Branch Strategy**
```
main           # í”„ë¡œë•ì…˜ ë°°í¬ ë¸Œëœì¹˜
â”œâ”€â”€ develop    # ê°œë°œ í†µí•© ë¸Œëœì¹˜
â”œâ”€â”€ feature/   # ê¸°ëŠ¥ ê°œë°œ ë¸Œëœì¹˜
â”œâ”€â”€ hotfix/    # ê¸´ê¸‰ ìˆ˜ì • ë¸Œëœì¹˜
â””â”€â”€ release/   # ë¦´ë¦¬ìŠ¤ ì¤€ë¹„ ë¸Œëœì¹˜
```

### **Commit Message Convention**
```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ìˆ˜ì •
style: ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½ (í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ë“±)
refactor: ì½”ë“œ ë¦¬íŒ©í† ë§
test: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€/ìˆ˜ì •
chore: ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ ë˜ëŠ” ë³´ì¡° ë„êµ¬ ë³€ê²½

ì˜ˆì‹œ:
feat(auth): JWT í† í° ê°±ì‹  ê¸°ëŠ¥ êµ¬í˜„
fix(user): ì‚¬ìš©ì ê²€ìƒ‰ ì‹œ NPE ë°œìƒ ì´ìŠˆ í•´ê²°
docs(api): ì‚¬ìš©ì API ë¬¸ì„œ ì—…ë°ì´íŠ¸
```

### **Code Review Checklist**
- [ ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ìš”êµ¬ì‚¬í•­ê³¼ ì¼ì¹˜í•˜ëŠ”ê°€?
- [ ] ë³´ì•ˆ ì·¨ì•½ì ì´ ì—†ëŠ”ê°€? (SQL Injection, XSS ë“±)
- [ ] ì„±ëŠ¥ ì´ìŠˆê°€ ì—†ëŠ”ê°€? (N+1 ì¿¼ë¦¬, ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë“±)
- [ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ê°€ ì¶©ë¶„í•œê°€? (ìµœì†Œ 80%)
- [ ] ì½”ë“œê°€ ì½ê¸° ì‰½ê³  ìœ ì§€ë³´ìˆ˜ê°€ ê°€ëŠ¥í•œê°€?
- [ ] ì—ëŸ¬ ì²˜ë¦¬ê°€ ì ì ˆíˆ êµ¬í˜„ë˜ì—ˆëŠ”ê°€?

---

## ğŸ“š KNOWLEDGE MANAGEMENT

### **Documentation Standards**
```java
/**
 * ì‚¬ìš©ì ê´€ë¦¬ ì„œë¹„ìŠ¤
 * 
 * ì´ ì„œë¹„ìŠ¤ëŠ” ì‚¬ìš©ìì˜ ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
 * ëª¨ë“  ë¹„ë°€ë²ˆí˜¸ëŠ” BCryptë¡œ ì•”í˜¸í™”ë˜ë©°, ì‚¬ìš©ì í™œë™ì€ ê°ì‚¬ ë¡œê·¸ì— ê¸°ë¡ë©ë‹ˆë‹¤.
 * 
 * ì£¼ìš” ê¸°ëŠ¥:
 * - ì‚¬ìš©ì ë“±ë¡ ë° ì¸ì¦
 * - ì—­í•  ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬
 * - ì‚¬ìš©ì í”„ë¡œí•„ ê´€ë¦¬
 * 
 * @author Development Team
 * @version 1.0
 * @since 2024-01-01
 */
@Service
public class UserServiceImpl implements UserService {
    
    /**
     * ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
     * 
     * @param user ë“±ë¡í•  ì‚¬ìš©ì ì •ë³´ (ë¹„ë°€ë²ˆí˜¸ëŠ” í‰ë¬¸)
     * @throws DuplicateUsernameException ì‚¬ìš©ìëª…ì´ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê²½ìš°
     * @throws InvalidPasswordException ë¹„ë°€ë²ˆí˜¸ ì •ì±…ì— ë§ì§€ ì•ŠëŠ” ê²½ìš°
     */
    @Override
    @Transactional
    public void register(User user) {
        // êµ¬í˜„ ë‚´ìš©...
    }
}
```

### **API Documentation with OpenAPI**
```java
@RestController
@RequestMapping("/api/users")
@Tag(name = "ì‚¬ìš©ì ê´€ë¦¬", description = "ì‚¬ìš©ì ë“±ë¡, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ API")
public class UserController {
    
    @PostMapping
    @Operation(
        summary = "ìƒˆ ì‚¬ìš©ì ë“±ë¡",
        description = "ì‹œìŠ¤í…œì— ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ë“±ë¡í•©ë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ëŠ” ìë™ìœ¼ë¡œ ì•”í˜¸í™”ë©ë‹ˆë‹¤."
    )
    @ApiResponses({
        @ApiResponse(responseCode = "201", description = "ì‚¬ìš©ì ë“±ë¡ ì„±ê³µ"),
        @ApiResponse(responseCode = "400", description = "ì˜ëª»ëœ ì…ë ¥ ë°ì´í„°"),
        @ApiResponse(responseCode = "409", description = "ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì‚¬ìš©ìëª…")
    })
    public ResponseEntity<ApiResponse<User>> createUser(
            @Parameter(description = "ë“±ë¡í•  ì‚¬ìš©ì ì •ë³´", required = true)
            @Valid @RequestBody CreateUserRequest request) {
        // êµ¬í˜„ ë‚´ìš©...
    }
}
```

---

## ğŸ¯ CONTINUOUS IMPROVEMENT

### **Code Quality Metrics**
```yaml
Quality Gates:
  Code Coverage: >= 80%
  Cyclomatic Complexity: <= 10
  Maintainability Index: >= 60
  Technical Debt Ratio: <= 5%
  Duplication: <= 3%
```

### **Performance Benchmarks**
```yaml
Response Time Targets:
  Simple CRUD Operations: < 100ms
  Complex Queries: < 500ms
  Report Generation: < 2s
  File Upload: < 5s

Throughput Targets:
  Concurrent Users: 100+
  Requests per Second: 1000+
  Database Connections: 20 max
```

---

## ğŸš¦ DEPLOYMENT STRATEGY

### **Environment Configuration**
```yaml
# application-dev.yml
spring:
  profiles:
    active: dev
  datasource:
    url: jdbc:mariadb://localhost:3306/pm7_dev
    hikari:
      maximum-pool-size: 5
  security:
    oauth2:
      client:
        registration:
          test-client:
            client-id: dev-client
logging:
  level:
    com.example.pm7: DEBUG

# application-prod.yml
spring:
  profiles:
    active: prod
  datasource:
    hikari:
      maximum-pool-size: 20
      leak-detection-threshold: 60000
  security:
    require-ssl: true
logging:
  level:
    com.example.pm7: INFO
    org.springframework.security: WARN
```

### **Blue-Green Deployment Process**
1. **Pre-deployment Checks**
   - ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ê²€ì¦
   - ì„¤ì • íŒŒì¼ ë¬´ê²°ì„± í™•ì¸
   - ì¢…ì†ì„± ì¶©ëŒ ê²€ì‚¬

2. **Deployment Steps**
   - Green í™˜ê²½ì— ìƒˆ ë²„ì „ ë°°í¬
   - Health check ë° smoke test ì‹¤í–‰
   - íŠ¸ë˜í”½ ì ì§„ì  ì „í™˜ (10% â†’ 50% â†’ 100%)
   - Blue í™˜ê²½ ë¡¤ë°± ì¤€ë¹„ ìƒíƒœ ìœ ì§€

3. **Post-deployment Monitoring**
   - ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”íŠ¸ë¦­ ëª¨ë‹ˆí„°ë§
   - ì˜¤ë¥˜ìœ¨ ë° ì‘ë‹µì‹œê°„ ì¶”ì 
   - ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘

---

## ğŸ“‹ COMPLIANCE & GOVERNANCE

### **Data Protection (GDPR/CCPA Compliance)**
```java
@Entity
@Table(name = "users")
public class User {
    
    @PersonalData // ê°œì¸ì •ë³´ ì‹ë³„ ì–´ë…¸í…Œì´ì…˜
    @Column(name = "email")
    private String email;
    
    @SensitiveData // ë¯¼ê°ì •ë³´ ì‹ë³„ ì–´ë…¸í…Œì´ì…˜
    @Column(name = "phone")
    private String phoneNumber;
    
    @JsonIgnore // API ì‘ë‹µì—ì„œ ì œì™¸
    @Column(name = "password")
    private String password;
}

@Component
public class DataRetentionService {
    
    @Scheduled(cron = "0 0 2 * * *") // ë§¤ì¼ ìƒˆë²½ 2ì‹œ ì‹¤í–‰
    public void cleanupExpiredData() {
        // ë¹„í™œì„± ì‚¬ìš©ì ë°ì´í„° ìµëª…í™” (90ì¼ ê¸°ì¤€)
        userService.anonymizeInactiveUsers(90);
        
        // ì‚­ì œ ìš”ì²­ëœ ë°ì´í„° ë¬¼ë¦¬ì  ì‚­ì œ (30ì¼ ê¸°ì¤€)
        userService.physicalDeleteRequestedUsers(30);
    }
}
```

### **Audit Trail Implementation**
```java
@Entity
@Table(name = "audit_log")
public class AuditLog {
    private Long id;
    private String userId;
    private String action;
    private String resourceType;
    private String resourceId;
    private String details;
    private LocalDateTime timestamp;
    private String ipAddress;
    private String userAgent;
}

@Aspect
@Component
public class AuditAspect {
    
    @Around("@annotation(Auditable)")
    public Object audit(ProceedingJoinPoint joinPoint) throws Throwable {
        // ê°ì‚¬ ë¡œê·¸ ìƒì„± ë° ì €ì¥
        return joinPoint.proceed();
    }
}
```

---

## ğŸ¯ SUCCESS METRICS

### **Technical KPIs**
- **Availability**: 99.9% uptime
- **Performance**: < 200ms average response time
- **Security**: Zero critical vulnerabilities
- **Quality**: 90%+ test coverage
- **Maintainability**: < 5% technical debt

### **Business KPIs**
- **User Satisfaction**: > 4.5/5.0 rating
- **Feature Adoption**: > 80% within 30 days
- **Error Rate**: < 0.1% of total requests
- **Time to Market**: < 2 weeks for minor features

---

*ì´ ë¬¸ì„œëŠ” Spring Boot PM7 í”„ë¡œì íŠ¸ì˜ ê°œë°œ í‘œì¤€ì„ ì •ì˜í•˜ë©°, ìµœì‹  ê¸°ìˆ  ë™í–¥ê³¼ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë°˜ì˜í•˜ì—¬ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.*

**Last Updated**: 2024-12-19
**Version**: 1.0
**Next Review**: 2024-Q2 